<template>
    <button @click="play.restart()">play</button>
    <div id="motionPath">
        <div class="motion-path">
            <div class="small square el follow-path"></div> <svg width="256" height="112" viewBox="0 0 256 112">
                <path fill="none" stroke="currentColor" stroke-width="1"
                    d="M411,251 C411,252 411,254 411,257 C411,261 409,267 409,276 C409,286 410.0614318847656,291.9914855957031 411,299 C412.07012939453125,306.9909362792969 412.557861328125,312.1434326171875 416,322 C417.7754821777344,327.0840759277344 424.04876708984375,336.95849609375 430,344 C435.0415344238281,349.96514892578125 438.8406677246094,353.3359375 447,357 C451.9125671386719,359.2060546875 463,361 473,361 C484,361 498.2827453613281,358.8240661621094 511,354 C522.2975463867188,349.7144775390625 529.5186767578125,344.4587707519531 533,340 C536.5884399414062,335.4040222167969 536,333 536,327 C536,324 533,321 531,319 C530,318 529,318 527,318 C525,318 520,318 511,318 C504,318 496.83880615234375,317.74639892578125 492,321 C487.85076904296875,323.7899475097656 485.50732421875,330.0243225097656 486,335 C486.50244140625,340.07421875 487.9123229980469,344.0306701660156 489,347 C490.8522644042969,352.05657958984375 494,356 498,361 C502,366 509.10113525390625,373.2924499511719 523,382 C534.3694458007812,389.12286376953125 546.07666015625,392.31646728515625 558,394 C568.097900390625,395.42578125 578.9467163085938,397.4987487792969 586,398 C593.9798583984375,398.5671081542969 605,398 615,398 C628,398 651,399 666,400 C681,401 699.9287719726562,405.9988708496094 721,407 C743.9740600585938,408.0915222167969 764,407 780,408 L792,408 L798,408 L799,408 ">
                </path>
            </svg>
        </div>
    </div>
</template>
<script setup lang="ts">
import anime from 'animejs/lib/anime.js';
import { onMounted, ref } from "vue";
const play = ref()
onMounted(() => {
    var path = anime.path('#motionPath path');
    play.value = anime({
        targets: '#motionPath .el',
        translateX: path('x'),
        translateY: path('y'),
        rotate: path('angle'),
        easing: 'linear',
        duration: 2000,
        // loop: true
    });
})

</script>
<style>
.small {
    width: 18px;
    height: 18px;
    background: #000;
}
</style>