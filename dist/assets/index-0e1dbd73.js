import{d as p,r as d,o as m,a as w,c as a,F as T,b as x,e as f,w as k,f as u,m as C,n as y,u as b,g as c,h as L,t as E,i as M,j as $}from"./index-222dc20d.js";import{M as B}from"./index-39a0f3e0.js";const N={id:"bolgText",class:"bolg"},R={key:0,class:"toc glass"},S=["onClick"],D=["innerHTML"],F=u("div",{style:{width:"15%"}},null,-1),q=p({__name:"index",setup(H){const r=d(),l=d(),g=b();M();const h=t=>{window.scrollTo({top:t,behavior:"smooth"})},_=t=>{var s,e;console.log(t.target),((s=t.target)==null?void 0:s.tagName)=="PRE"&&navigator.clipboard.writeText((e=t.target)==null?void 0:e.innerText).then(()=>{B({str:"复制成功",type:"success"})})},v=async()=>{const{html:t}=await C[`./${String(g.name)}.md`]();r.value=t,await y();const s=document.querySelectorAll("#bolgText h1,#bolgText h2,#bolgText h3");let e=[];s.forEach((o,n)=>{e.push({scollTop:n==0?0:o.getBoundingClientRect().top,tagClass:`${o.tagName}Class`,content:o.textContent})}),e[0]&&(e[0].checked=!0),l.value=e},i=()=>{var s;let t=(s=l.value)==null?void 0:s.map((e,o)=>window.scrollY>=e.scollTop&&window.scrollY<l.value[o+1].scollTop?{...e,checked:!0}:{...e,checked:!1});l.value=t};return m(async()=>{await v(),window.addEventListener("scroll",i)}),w(()=>{window.removeEventListener("scroll",i)}),(t,s)=>{var o;const e=$("highlight");return c(),a("div",N,[((o=l.value)==null?void 0:o.length)>0?(c(),a("ul",R,[(c(!0),a(T,null,x(l.value,n=>(c(),a("li",{class:L(`${n.tagClass} ${n.checked&&"checked"}`),onClick:V=>h(n.scollTop)},E(n.content),11,S))),256))])):f("",!0),k(u("div",{innerHTML:r.value,class:"md glass",onClick:s[0]||(s[0]=n=>_(n))},null,8,D),[[e]]),F])}}});export{q as default};
